<!DOCTYPE html>
<html>
<head>
  <% include ../partials/header.ejs %>
    <svg style="height:0;width:0">
        <defs>
            <filter id="goo">
                <feGaussianBlur in="SourceGraphic" stdDeviation="7" result="blur" />
                <feColorMatrix in="blur" mode="matrix" values="1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -7" result="goo" />
            </filter>
        </defs>
    </svg>
</head>

<body>

    <main class="page">

      <div class="page__container">

          <div class="loading">
              <h5>
                  Your report is generating. Please wait.
                  <span>If you close this tab, you will lose it.</span>
              </h5>

              <div class="pulse"></div>
          </div>

          <div class="page__content">
              <h1 class="page__title home">
                  <a href="/">
                     Beagle
                  </a>
              </h1>

              <!--<p class="status js-status">Beagle is unavailable :(</p>-->

              <form action="/" method="get" class="js-get-report js-hide home">
                  <span class="input">
                      <input type="url" placeholder="type address..." id="url" name="url" value="">
                  </span>
                  <span class="focusline"></span>
                  <button type="submit" class="form__button submit">
                      <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" x="0px" y="0px" width="512px" height="512px" viewBox="0 0 535.5 535.5" style="enable-background:new 0 0 535.5 535.5;" xml:space="preserve">
                          <polygon points="0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75   " fill="#FFFFFF"/>
                      </svg>
                  </button>
                  <span class="error">Please enter a valid URL!</span>
              </form>

          </div>

      </div>

    </main>


  <div class="report">
      <header class="report__header">
      <h3>Results for: <span class="js-summary"></span></h3>
      </header>

      <div class="report__container">

          <div class="graph">
              <canvas id="lh-chart" width="400" height="400"></canvas>
          </div>

          <div class="panel panel--alert">

            <div class="panel__header">
                <h4>Site has critical issues</h4>
                <span class="score js-score-critical"></span>
            </div>

            <p>Your build has critical front-end issues which should be remedied. These issues may impact the effectiveness of the build.</p>

            <div class="audit js-critical-audit">

            </div>

        </div>

          <div class="panel">

              <div class="panel__header">
                  <h4>Key Scores</h4>
                  <span class="score js-score-key"></span>
              </div>

              <table>
                  <tbody>
                  <tr class="js-row"></tr>
                  </tbody>
              </table>

          </div>

          <div class="panel">

              <div class="panel__header">
                  <h4>Lighthouse Audit</h4>
                  <span class="score js-score-lh"></span>
                  <div class="filter">
                      <button class="filter__button filter__button--pass js-pass">Pass</button>
                      <button class="filter__button filter__button--fail js-fail">Fail</button>
                  </div>
              </div>
              <div class="audit js-audit"></div>

          </div>

          <div class="panel">

              <div class="panel__header">
                  <h4>Pa11y Audit</h4>
                  <span class="score js-score-pally"></span>
              </div>
              <div class="audit js-pally"></div>

          </div>


          <div class="panel">
              <div class="graph">

                  <div class="panel__header">
                      <h4>PWA</h4>
                  </div>

                  <canvas id="polar-chart" width="400" height="400"></canvas>
              </div>
          </div>

      </div>

      <footer class="report__footer">
          <!--<a href="" target="_blank" rel="noopener" class="report__button js-wpt-link">View full WPT report</a>-->
      </footer>

      <dialog id="dialog" class="dialog">

          <section>
              <h4>Error <span class="js-data-code"></span></h4>
              <div class="js-errors dialog__content">

              </div>
          </section>
          <menu>
              <button id="cancel" type="reset" class="dialog__button">Close</button>
          </menu>
          
      </dialog>
  </div>

  <footer class="footer">
    Beagle was created by Michael Gunner.
  </footer>

</body>

<script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.4/socket.io.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="/js/app.js"></script>
</html>
